{
	"name": "Bulk load customers",
	"properties": {
		"content": {
			"query": "IF NOT EXISTS (SELECT * FROM sys.objects O JOIN sys.schemas S ON O.schema_id = S.schema_id WHERE O.NAME = 'customers' AND O.TYPE = 'U' AND S.NAME = 'asacourxe')\nCREATE TABLE asacourse.customers\n\t(\n\t [CustomerID] int,\n\t [NameStyle] bit,\n\t [Title] nvarchar(4000),\n\t [FirstName] nvarchar(4000),\n\t [MiddleName] nvarchar(4000),\n\t [LastName] nvarchar(4000),\n\t [Suffix] nvarchar(4000),\n\t [CompanyName] nvarchar(4000),\n\t [SalesPerson] nvarchar(4000),\n\t [EmailAddress] nvarchar(4000),\n\t [Phone] nvarchar(4000),\n\t [PasswordHash] nvarchar(4000),\n\t [PasswordSalt] nvarchar(4000),\n\t [rowguid] nvarchar(4000),\n\t [ModifiedDate] datetime2(7)\n\t)\nWITH\n\t(\n\tDISTRIBUTION = ROUND_ROBIN,\n\t CLUSTERED COLUMNSTORE INDEX\n\t -- HEAP\n\t)\nGO\n\n--Uncomment the 4 lines below to create a stored procedure for data pipeline orchestrationâ€‹\n--CREATE PROC bulk_load_customers\n--AS\n--BEGIN\nCOPY INTO asacourse.customers\n(CustomerID 1, NameStyle 2, Title 3, FirstName 4, MiddleName 5, LastName 6, Suffix 7, CompanyName 8, SalesPerson 9, EmailAddress 10, Phone 11, PasswordHash 12, PasswordSalt 13, rowguid 14, ModifiedDate 15)\nFROM 'https://adlsgen2frank.dfs.core.windows.net/adls2container/data/customer.parquet'\nWITH\n(\n\tFILE_TYPE = 'PARQUET'\n\t,MAXERRORS = 0\n\t,IDENTITY_INSERT = 'OFF'\n)\n--END\nGO\n\nSELECT TOP 100 * FROM asacourse.customers\nGO",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"poolName": "asadedicated",
				"databaseName": "asadedicated"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}